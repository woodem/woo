


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>woo.post2d &#8212; Woo 1.0+rev1-git-b2f7663 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/cloud.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="shortcut icon" href="_static/woo-favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="woo.pre" href="woo.pre.html" />
    <link rel="prev" title="woo.plot" href="woo.plot.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="woo.pre.html" title="woo.pre"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="woo.plot.html" title="woo.plot"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">Woo 1.0+rev1-git-b2f7663 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="wooMods.html" accesskey="U">Woo modules</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">woo.post2d</span></code></a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-woo.post2d">
<span id="woo-post2d"></span><h1><a class="reference internal" href="#module-woo.post2d" title="woo.post2d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">woo.post2d</span></code></a><a class="headerlink" href="#module-woo.post2d" title="Permalink to this headline">¶</a></h1>
<p>Module for 2d postprocessing, containing classes to project points from 3d to 2d in various ways,
providing basic but flexible framework for extracting arbitrary scalar values from particles/contacts
and plotting the results. There are 2 basic components: flatteners and extractors.</p>
<p>The algorithms operate on particles (default) or contacts, depending on the <code class="docutils literal notranslate"><span class="pre">con</span></code> parameter
of post2d.data.</p>
<section id="flatteners">
<h2>Flatteners<a class="headerlink" href="#flatteners" title="Permalink to this headline">¶</a></h2>
<p>Instance of classes that convert 3d (model) coordinates to 2d (plot) coordinates. Their interface is
defined by the <a class="reference internal" href="#woo.post2d.Flatten" title="woo.post2d.Flatten"><code class="xref py py-obj docutils literal notranslate"><span class="pre">woo.post2d.Flatten</span></code></a> class (<code class="docutils literal notranslate"><span class="pre">__call__</span></code>, <code class="docutils literal notranslate"><span class="pre">planar</span></code>, <code class="docutils literal notranslate"><span class="pre">normal</span></code>).</p>
</section>
<section id="extractors">
<h2>Extractors<a class="headerlink" href="#extractors" title="Permalink to this headline">¶</a></h2>
<p>Callable objects returning scalar or vector value, given a body/interaction object.
If a 3d vector is returned, Flattener.planar is called, which should return only in-plane
components of the vector.</p>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>This example can be found in examples/concrete/uniax-post.py</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">woo</span> <span class="k">import</span> <span class="n">post2d</span>
<span class="kn">import</span> <span class="nn">pylab</span> <span class="c1"># the matlab-like interface of matplotlib</span>

<span class="n">O</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;/tmp/uniax-tension.xml.bz2&#39;</span><span class="p">)</span>

<span class="c1"># flattener that project to the xz plane</span>
<span class="n">flattener</span><span class="o">=</span><span class="n">post2d</span><span class="o">.</span><span class="n">AxisFlatten</span><span class="p">(</span><span class="n">useRef</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># return scalar given a Body instance</span>
<span class="n">extractDmg</span><span class="o">=</span><span class="k">lambda</span> <span class="n">b</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">normDmg</span>
<span class="c1"># will call flattener.planar implicitly</span>
<span class="c1"># the same as: extractVelocity=lambda b: flattener.planar(b,b.state.vel)</span>
<span class="n">extractVelocity</span><span class="o">=</span><span class="k">lambda</span> <span class="n">b</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">vel</span>

<span class="c1"># create new figure</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="c1"># plot raw damage</span>
<span class="n">post2d</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">post2d</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">extractDmg</span><span class="p">,</span><span class="n">flattener</span><span class="p">))</span>

<span class="c1"># plot smooth damage into new figure</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">figure</span><span class="p">();</span> <span class="n">ax</span><span class="p">,</span><span class="nb">map</span><span class="o">=</span><span class="n">post2d</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">post2d</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">extractDmg</span><span class="p">,</span><span class="n">flattener</span><span class="p">,</span><span class="n">stDev</span><span class="o">=</span><span class="mf">2e-3</span><span class="p">))</span>
<span class="c1"># show color scale</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="nb">map</span><span class="p">,</span><span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>

<span class="c1"># raw velocity (vector field) plot</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">figure</span><span class="p">();</span> <span class="n">post2d</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">post2d</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">extractVelocity</span><span class="p">,</span><span class="n">flattener</span><span class="p">))</span>

<span class="c1"># smooth velocity plot; data are sampled at regular grid</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">figure</span><span class="p">();</span> <span class="n">ax</span><span class="p">,</span><span class="nb">map</span><span class="o">=</span><span class="n">post2d</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">post2d</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">extractVelocity</span><span class="p">,</span><span class="n">flattener</span><span class="p">,</span><span class="n">stDev</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">))</span>
<span class="c1"># save last (current) figure to file</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;/tmp/foo.png&#39;</span><span class="p">)</span> 

<span class="c1"># show the figures</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="woo.post2d.AxisFlatten">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">woo.post2d.</span></span><span class="sig-name descname"><span class="pre">AxisFlatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useRef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swapAxes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dispScale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#AxisFlatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.AxisFlatten" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>useRef</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – use reference positions rather than actual positions (only meaningful when operating on Particles)</p></li>
<li><p><strong>axis</strong> (<em>{0</em><em>,</em><em>1</em><em>,</em><em>2}</em>) – axis normal to the plane; the return value will be simply position with this component dropped.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.AxisFlatten.normal">
<span class="sig-name descname"><span class="pre">normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#AxisFlatten.normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.AxisFlatten.normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, return lenght of the vector normal to the flat plane.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.AxisFlatten.planar">
<span class="sig-name descname"><span class="pre">planar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#AxisFlatten.planar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.AxisFlatten.planar" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, project the vector value to the flat plane and return its 2 in-plane components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="woo.post2d.CylinderFlatten">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">woo.post2d.</span></span><span class="sig-name descname"><span class="pre">CylinderFlatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useRef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Vector3(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dispScale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#CylinderFlatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.CylinderFlatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for converting 3d point to 2d based on projection onto plane from circle.
The y-axis in the projection corresponds to the rotation axis; the x-axis is distance form the axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>useRef</strong> – (bool) use reference positions rather than actual positions</p></li>
<li><p><strong>axis</strong> – axis of the cylinder, ∈{0,1,2}</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.CylinderFlatten.normal">
<span class="sig-name descname"><span class="pre">normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#CylinderFlatten.normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.CylinderFlatten.normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, return lenght of the vector normal to the flat plane.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.CylinderFlatten.planar">
<span class="sig-name descname"><span class="pre">planar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#CylinderFlatten.planar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.CylinderFlatten.planar" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, project the vector value to the flat plane and return its 2 in-plane components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="woo.post2d.Flatten">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">woo.post2d.</span></span><span class="sig-name descname"><span class="pre">Flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dispScale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#Flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.Flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract class for converting 3d point into 2d. Used by post2d.data2d.</p>
<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.Flatten.normal">
<span class="sig-name descname"><span class="pre">normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#Flatten.normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.Flatten.normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, return lenght of the vector normal to the flat plane.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.Flatten.planar">
<span class="sig-name descname"><span class="pre">planar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#Flatten.planar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.Flatten.planar" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, project the vector value to the flat plane and return its 2 in-plane components.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.Flatten.scaledPos">
<span class="sig-name descname"><span class="pre">scaledPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#Flatten.scaledPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.Flatten.scaledPos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="woo.post2d.HelixFlatten">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">woo.post2d.</span></span><span class="sig-name descname"><span class="pre">HelixFlatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">useRef</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thetaRange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dH_dTheta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodStart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dispScale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#HelixFlatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.HelixFlatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Class converting 3d point to 2d based on projection from helix.
The y-axis in the projection corresponds to the rotation axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>useRef</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – use reference positions rather than actual positions</p></li>
<li><p><strong>thetaRange</strong> (<em>(</em><em>θmin</em><em>,</em><em>θmax</em><em>)</em>) – particles outside this range will be discarded</p></li>
<li><p><strong>dH_dTheta</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – inclination of the spiral (per radian)</p></li>
<li><p><strong>axis</strong> (<em>{0</em><em>,</em><em>1</em><em>,</em><em>2}</em>) – axis of rotation of the spiral</p></li>
<li><p><strong>periodStart</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – height of the spiral for zero angle</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.HelixFlatten.normal">
<span class="sig-name descname"><span class="pre">normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#HelixFlatten.normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.HelixFlatten.normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, return lenght of the vector normal to the flat plane.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.HelixFlatten.planar">
<span class="sig-name descname"><span class="pre">planar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#HelixFlatten.planar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.HelixFlatten.planar" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, project the vector value to the flat plane and return its 2 in-plane components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="woo.post2d.LocalAxisFlatten">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">woo.post2d.</span></span><span class="sig-name descname"><span class="pre">LocalAxisFlatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ori</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useRef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swapAxes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dispScale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#LocalAxisFlatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.LocalAxisFlatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#woo.post2d.AxisFlatten" title="woo.post2d.AxisFlatten"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AxisFlatten</span></code></a>, but transform the point to local coordinates first, using given position (Vector3) and orientation (Quaternion).</p>
<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.LocalAxisFlatten.normal">
<span class="sig-name descname"><span class="pre">normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#LocalAxisFlatten.normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.LocalAxisFlatten.normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, return lenght of the vector normal to the flat plane.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="woo.post2d.LocalAxisFlatten.planar">
<span class="sig-name descname"><span class="pre">planar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#LocalAxisFlatten.planar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.LocalAxisFlatten.planar" title="Permalink to this definition">¶</a></dt>
<dd><p>Given position and vector value, project the vector value to the flat plane and return its 2 in-plane components.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="woo.post2d.data">
<span class="sig-prename descclassname"><span class="pre">woo.post2d.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flattener</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">con</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onlyDynamic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stDev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relThreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perArea</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">div</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(50,</span> <span class="pre">50)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter all particles/contacts, project them to 2d and extract required scalar value;
return either discrete array of positions and values, or smoothed data, depending on whether the stDev
value is specified.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">con</span></code> parameter determines whether we operate on particles or contacts;
the extractor provided should expect to receive body/interaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extractor</strong> (<em>callable</em>) – receives <a class="reference internal" href="woo.dem.html#woo.dem.Particle" title="woo.dem.Particle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">woo.dem.Particle</span></code></a> (or <a class="reference internal" href="woo.dem.html#woo.dem.Contact" title="woo.dem.Contact"><code class="xref py py-obj docutils literal notranslate"><span class="pre">woo.dem.Contact</span></code></a>, if <code class="docutils literal notranslate"><span class="pre">con</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>) instance, should return scalar, a 2-tuple (vector fields) or None (to skip that body/interaction)</p></li>
<li><p><strong>flattener</strong> (<em>callable</em>) – <a class="reference internal" href="#woo.post2d.Flatten" title="woo.post2d.Flatten"><code class="xref py py-obj docutils literal notranslate"><span class="pre">woo.post2d.Flatten</span></code></a> instance, receiving body/interaction, returns its 2d coordinates or <code class="docutils literal notranslate"><span class="pre">None</span></code> (to skip that body/interaction)</p></li>
<li><p><strong>con</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – operate on contacts rather than particles</p></li>
<li><p><strong>onlyDynamic</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – skip all non-dynamic particles</p></li>
<li><p><strong>stDev</strong> (<em>float/None</em>) – standard deviation for averaging, enables smoothing; <code class="docutils literal notranslate"><span class="pre">None</span></code> (default) means raw mode, where discrete points are returned</p></li>
<li><p><strong>relThreshold</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – threshold for the gaussian weight function relative to stDev (smooth mode only)</p></li>
<li><p><strong>perArea</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – if 1, compute weightedSum/weightedArea rather than weighted average (weightedSum/sumWeights); the first is useful to compute average stress; if 2, compute averages on subdivision elements, not using weight function</p></li>
<li><p><strong>div</strong> (<em>(</em><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>,</em><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>)</em>) – number of cells for the gaussian grid (smooth mode only)</p></li>
<li><p><strong>margin</strong> (<em>(</em><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>,</em><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>)</em>) – x,y margins around bounding box for data (smooth mode only)</p></li>
<li><p><strong>radius</strong> (<em>float/callable</em>) – Fallback value for radius (for raw plotting) for non-spherical particles or contacts; if a callable, receives body/interaction and returns radius</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary</p>
</dd>
</dl>
<p>Returned dictionary always containing keys ‘type’ (one of ‘rawScalar’,’rawVector’,’smoothScalar’,’smoothVector’, depending on value of smooth and on return value from extractor), ‘x’, ‘y’, ‘bbox’.</p>
<p>Raw data further contains ‘radii’.</p>
<p>Scalar fields contain ‘val’ (value from <em>extractor</em>), vector fields have ‘valX’ and ‘valY’ (2 components returned by the <em>extractor</em>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="woo.post2d.plot">
<span class="sig-prename descclassname"><span class="pre">woo.post2d.</span></span><span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rawVecColorRadius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'equal'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/woo/post2d.html#plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#woo.post2d.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Given output from post2d.data, plot the scalar as discrete or smooth plot.</p>
<p>For raw discrete data, plot filled circles with radii of particles, colored by the scalar value.</p>
<p>For smooth discrete data, plot image with optional contours and contour labels.</p>
<p>For vector data (raw or smooth), plot quiver (vector field), with arrows colored by the magnitude.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> – matplotlib.axes instance where the figure will be plotted; if None, will be created from scratch.</p></li>
<li><p><strong>data</strong> – value returned by <a class="reference internal" href="#woo.post2d.data" title="woo.post2d.data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">woo.post2d.data</span></code></a></p></li>
<li><p><strong>clabel</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – show contour labels (smooth mode only), or annotate cells with numbers inside (with perArea==2)</p></li>
<li><p><strong>cbar</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – show colorbar (equivalent to calling pylab.colorbar(mappable) on the returned mappable)</p></li>
<li><p><strong>rawVecColorRadius</strong> – if True, use radius associated with each point to color arrows in raw quiver plot.</p></li>
<li><p><strong>bbox</strong> – if given, use this as axes limits instead of bbox computed from data points</p></li>
<li><p><strong>clip_path</strong> – clip plotted image maps, contour lines or patches with this clip path (should be an instance of <code class="docutils literal notranslate"><span class="pre">matplotlib.patches.Patch</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple of <code class="docutils literal notranslate"><span class="pre">(axes,mappable)</span></code>; mappable can be used in further calls to pylab.colorbar.</p>
</dd>
</dl>
</dd></dl>

</section>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Report issues or inclarities to <a class="reference external" href="https://github.com/woodem/woo/issues">github</a>.</p>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="contents.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">woo.post2d</span></code></a><ul>
<li><a class="reference internal" href="#flatteners">Flatteners</a></li>
<li><a class="reference internal" href="#extractors">Extractors</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="woo.plot.html"
                          title="Previous page">&larr; <code class="xref py py-mod docutils literal notranslate"><span class="pre">woo.plot</span></code></a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="woo.pre.html"
                          title="Next page">&rarr; <code class="xref py py-mod docutils literal notranslate"><span class="pre">woo.pre</span></code></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/woo.post2d.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="woo.pre.html" title="woo.pre"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="woo.plot.html" title="woo.plot"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">Woo 1.0+rev1-git-b2f7663 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="wooMods.html" >Woo modules</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">woo.post2d</span></code></a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2012−2021, Václav Šmilauer &lt;eu@doxos.eu&gt;.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>