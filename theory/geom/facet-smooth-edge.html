


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Smooth triangulation edge contacts &#8212; Woo 1.0+rev1-git-0cba429 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/cloud.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"loader": {"load": ["[tex]/boldsymbol"]}, "TeX": {"Macros": {"prev": ["#1^-", 1], "pprev": ["#1^{\\ominus}", 1], "curr": ["#1^{\\circ}", 1], "nnext": ["#1^{\\oplus}", 1], "next": ["#1^{+}", 1], "Dt": "\\Delta t", "tens": ["{\\bf #1}", 1], "vec": ["{\\bf #1}", 1], "quat": ["{\\bf #1}", 1], "mat": ["{\\bf #1}", 1], "u": ["\\,\\mathrm{#1}", 1], "normalized": ["\\frac{#1}{|\\cdot|}", 1], "d": "\\mathrm{d}\\,", "phi": "\\varphi", "eps": "\\varepsilon", "epsilon": "\\varepsilon", "tr": "\\mathop{\\rm tr}\\nolimits"}, "packages": {"[+]": ["boldsymbol"]}}})</script>

    
    
     
        <script src="../../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../../_static/cloud.base.js"></script>
    

    
     
        <script src="../../_static/cloud.js"></script>
    

    <link rel="shortcut icon" href="../../_static/woo-favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="DEM contact models" href="../contact/index.html" />
    <link rel="prev" title="Capsule" href="capsule.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../contact/index.html" title="DEM contact models"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="capsule.html" title="Capsule"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">Woo 1.0+rev1-git-0cba429 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Theory</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Geometry</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Smooth triangulation edge contacts</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="smooth-triangulation-edge-contacts">
<h1>Smooth triangulation edge contacts<a class="headerlink" href="#smooth-triangulation-edge-contacts" title="Permalink to this headline">¶</a></h1>
<section id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>In in interaction of rather compliant particles with triangulated surface, internal edges of the surface can influence the simulation. <a class="reference internal" href="#fig-facet-surface-sphere-contacts"><span class="std std-numref">Fig. 11</span></a> shows a simple case where such artefacts can be encoutered.</p>
<figure class="align-default" id="id1">
<span id="fig-facet-surface-sphere-contacts"></span><img alt="../../_images/facet-surface-sphere-contacts.svg" src="../../_images/facet-surface-sphere-contacts.svg" /><figcaption>
<p><span class="caption-number">Fig. 11 </span><span class="caption-text">Illustration of a sphere rolling accross triangulated surface with velocity <span class="math notranslate nohighlight">\(v\)</span>; at this moment, there are two contacts with facets representing the surface. The facet <span class="math notranslate nohighlight">\(f_1\)</span> is contacted on the face; however, facet <span class="math notranslate nohighlight">\(f_2\)</span> is contacted on edge, which does not have physical meaning (it is inner edge which only representes triangulation of the continuous surface). Both contacts cause force responses (noted <span class="math notranslate nohighlight">\(\vec{F}_1\)</span>, <span class="math notranslate nohighlight">\(\vec{F}_2\)</span>); there is also gravity force acting on the sphere <span class="math notranslate nohighlight">\(\vec{F}_g\)</span>; as we can see, resultant force on the sphere <span class="math notranslate nohighlight">\(\vec{F}_{\Sigma}\)</span> is obstructing its movement (against <span class="math notranslate nohighlight">\(\vec{v}\)</span>) thus inducing artifacts into simulation.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="edge-smoothing">
<h2>Edge smoothing<a class="headerlink" href="#edge-smoothing" title="Permalink to this headline">¶</a></h2>
<p>To counter this effect, contacts of particles with internal edges (and with internal vertices) are regularized in such way that the contact force is always within the range of facet’s both normals. (An edge is considered internal if facet shares both nodes of that respective edge with another single facet; a vertex is considered internal if both adjacent edges are internal.) Normals were parallel in <a class="reference internal" href="#fig-facet-surface-sphere-contacts"><span class="std std-numref">Fig. 11</span></a>, but in general case of a curved surface, they are not; such a case is shown in <a class="reference internal" href="#fig-smooth-facet-edge-contact"><span class="std std-numref">Fig. 12</span></a>.</p>
<figure class="align-default" id="id2">
<span id="fig-smooth-facet-edge-contact"></span><img alt="../../_images/smooth-facet-edge-contact.svg" src="../../_images/smooth-facet-edge-contact.svg" /><figcaption>
<p><span class="caption-number">Fig. 12 </span><span class="caption-text">Edge contact smoothing based on 3 zones which are determined from <span class="math notranslate nohighlight">\(\vec{n}\cdot\vec{n}_1\)</span>, projection of original contact normal to the facet normal.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The original contact normal <span class="math notranslate nohighlight">\(\vec{n}\)</span> will have be adjusted to the new normal <span class="math notranslate nohighlight">\(\vec{n}'\)</span> so that motion parallel to the surface is not obstructed. The relationship between <span class="math notranslate nohighlight">\(\vec{n}_1\)</span> and <span class="math notranslate nohighlight">\(\vec{n}_2\)</span> (which is constant for non-deforming meshes) is stored in the scalar <span class="math notranslate nohighlight">\(n_{\rm lim}=\vec{n}_1\cdot\vec{n}_2\)</span> which determines boundary values for 3 zones of adjustment.</p>
<ol class="arabic">
<li><p>The blue zone is when contact normal <span class="math notranslate nohighlight">\(\vec{n}\)</span> is between <span class="math notranslate nohighlight">\(\vec{n}_1\)</span> and <span class="math notranslate nohighlight">\(\vec{n}_2\)</span>, i.e. when</p>
<div class="math notranslate nohighlight">
\[n_{\rm lim}\leq\vec{n}\cdot\vec{n}_1.\]</div>
<p>In this case, there is no need for adjustment, thus <span class="math notranslate nohighlight">\(\vec{n}\equiv\vec{n}'\)</span>.</p>
</li>
<li><p>The red zone is convex contact with the edge; the condition is</p>
<div class="math notranslate nohighlight">
\[-o_{\rm lim}&lt;\vec{n}\cdot\vec{n}_1&lt;n_{\rm lim}\]</div>
<p>with the perpendicular component computed simply as</p>
<div class="math notranslate nohighlight">
\[o_{\rm lim}=\sqrt{1-n_{\rm lim}^2}.\]</div>
<p>In this case, the adjusted normal will be <span class="math notranslate nohighlight">\(\vec{n}'=\vec{n}_2\)</span> and the contact point will be contacting particle’s center projected onto plane defined by <span class="math notranslate nohighlight">\(\mathbf{E}_{12}\)</span> and normal <span class="math notranslate nohighlight">\(\vec{n}_2\)</span>.</p>
</li>
<li><p>The green zone is concave contact with the edge; the condition is</p>
<div class="math notranslate nohighlight">
\[\vec{n}\cdot\vec{n}_1\leq-o_{\rm lim},\]</div>
<p>the adjusted normal becomes <span class="math notranslate nohighlight">\(\vec{n}'=-\vec{n}_1\)</span> and contact point is particle’s center projected onto plane defined by <span class="math notranslate nohighlight">\(\mathbf{E}_{12}\)</span> and normal <span class="math notranslate nohighlight">\(\vec{n}_1\)</span>.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In general case, the computation somewhat more complicated due to the fact that (a) normals <span class="math notranslate nohighlight">\(\vec{n}_1\)</span>, <span class="math notranslate nohighlight">\(\vec{n}_2\)</span> may not be oriented consistently and (b) both cases of convex and concave edge must be handled, from both sides of possible contact.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Report issues or inclarities to <a class="reference external" href="https://github.com/woodem/woo/issues">github</a>.</p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="../../contents.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Smooth triangulation edge contacts</a><ul>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#edge-smoothing">Edge smoothing</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="capsule.html"
                          title="Previous page">&larr; Capsule</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="../contact/index.html"
                          title="Next page">&rarr; DEM contact models</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/theory/geom/facet-smooth-edge.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../contact/index.html" title="DEM contact models"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="capsule.html" title="Capsule"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">Woo 1.0+rev1-git-0cba429 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Theory</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Geometry</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Smooth triangulation edge contacts</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2012−2021, Václav Šmilauer &lt;eu@doxos.eu&gt;.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.1.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>